/* Glassmorphism utility stylesheet */

:where(
  .glass-light,
  .glass-dark,
  .glass-overlay,
  .glass-ocean,
  .glass-coral,
  .glass-gold,
  .glass-mocha
) {
  position: relative;
  border-radius: 20px;
  background-clip: padding-box;
  isolation: isolate;
  transform: translateZ(0);
  transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
  backdrop-filter: blur(var(--glass-blur, 15px)) saturate(var(--glass-saturation, 100%));
  -webkit-backdrop-filter: blur(var(--glass-blur, 15px)) saturate(var(--glass-saturation, 100%));
}

.glass-light {
  --glass-opacity: var(--glass-opacity, 0.45);
  border: 1px solid rgba(255, 255, 255, var(--glass-border-opacity, 0.25));
  box-shadow: 0 0 10px 1px rgba(0, 0, 0, 0.25);
  background:
    linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.25)),
    rgba(255, 255, 255, var(--glass-opacity));
}

.glass-dark {
  --glass-opacity: var(--glass-opacity, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
  background:
    linear-gradient(135deg, rgba(15, 23, 42, 0.55), rgba(15, 23, 42, 0.3)),
    rgba(0, 0, 0, var(--glass-opacity));
}

.glass-overlay {
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 10px 40px -18px rgba(6, 66, 115, 0.45);
  background:
    linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.1)),
    rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px) saturate(120%);
  -webkit-backdrop-filter: blur(20px) saturate(120%);
}

.glass-ocean {
  --glass-tint-color: 29 162 216;
  border: 1px solid rgba(118, 182, 196, 0.4);
  box-shadow: 0 12px 40px -22px rgba(6, 66, 115, 0.6);
  background:
    linear-gradient(
      135deg,
      rgba(118, 182, 196, 0.35),
      rgba(29, 162, 216, 0.2)
    ),
    rgba(var(--glass-tint-color), 0.15);
}

.glass-coral {
  --glass-tint-color: 255 107 107;
  border: 1px solid rgba(255, 166, 158, 0.35);
  box-shadow: 0 12px 40px -22px rgba(191, 70, 57, 0.5);
  background:
    linear-gradient(
      135deg,
      rgba(255, 166, 158, 0.35),
      rgba(255, 107, 107, 0.2)
    ),
    rgba(var(--glass-tint-color), 0.15);
}

.glass-gold {
  --glass-tint-color: 194 150 75;
  border: 1px solid rgba(229, 200, 130, 0.35);
  box-shadow: 0 12px 40px -22px rgba(138, 100, 50, 0.5);
  background:
    linear-gradient(
      135deg,
      rgba(229, 200, 130, 0.35),
      rgba(194, 150, 75, 0.2)
    ),
    rgba(var(--glass-tint-color), 0.15);
}

.glass-mocha {
  --glass-tint-color: 164 119 100;
  border: 1px solid rgba(195, 163, 135, 0.35);
  box-shadow: 0 12px 40px -22px rgba(87, 59, 49, 0.5);
  background:
    linear-gradient(
      135deg,
      rgba(195, 163, 135, 0.35),
      rgba(164, 119, 100, 0.2)
    ),
    rgba(var(--glass-tint-color), 0.15);
}

.glass-subtle {
  --glass-opacity: 0.35;
}

.glass-medium {
  --glass-opacity: 0.5;
}

.glass-strong {
  --glass-opacity: 0.7;
}

@keyframes glassShimmer {
  0% {
    background-position: -200% center;
  }

  100% {
    background-position: 200% center;
  }
}

.glass-shimmer {
  background-size: 200% 100%;
  animation: glassShimmer 3s ease-in-out infinite;
}

.glass-shimmer::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(
      120deg,
      transparent 0%,
      rgba(255, 255, 255, 0.35) 35%,
      transparent 70%
    );
  background-size: 200% 100%;
  animation: glassShimmer 3s ease-in-out infinite;
}

@supports not ((backdrop-filter: blur(15px)) or (-webkit-backdrop-filter: blur(15px))) {
  .glass-light,
  .glass-overlay,
  .glass-ocean,
  .glass-coral,
  .glass-gold,
  .glass-mocha {
    background: rgba(255, 255, 255, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.35);
    box-shadow: 0 8px 20px -10px rgba(15, 23, 42, 0.25);
  }

  .glass-dark {
    background: rgba(17, 24, 39, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 8px 24px -12px rgba(0, 0, 0, 0.4);
  }
}

.dark .glass-light {
  border-color: rgba(255, 255, 255, 0.15);
  background:
    linear-gradient(135deg, rgba(15, 23, 42, 0.55), rgba(15, 23, 42, 0.3)),
    rgba(15, 23, 42, 0.45);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

.dark .glass-overlay {
  background:
    linear-gradient(135deg, rgba(15, 66, 87, 0.45), rgba(11, 114, 137, 0.25)),
    rgba(15, 66, 87, 0.3);
  border-color: rgba(118, 207, 224, 0.25);
}

.backdrop-filter-unsupported {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.backdrop-filter-unsupported.glass-light,
.backdrop-filter-unsupported.glass-overlay,
.backdrop-filter-unsupported.glass-ocean,
.backdrop-filter-unsupported.glass-coral,
.backdrop-filter-unsupported.glass-gold,
.backdrop-filter-unsupported.glass-mocha {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.35);
}

.backdrop-filter-unsupported.glass-dark {
  background: rgba(17, 24, 39, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

@media (prefers-reduced-motion: reduce) {
  .glass-shimmer,
  .glass-shimmer::before {
    animation: none;
    background-position: center;
  }
}
